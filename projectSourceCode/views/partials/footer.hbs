<footer class="text-center color: var(--text-primary); ">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Market status checker
        (async function checkMarketStatus() {
            try {
                const badge = document.getElementById('market-status-badge');
                if (!badge) return; // Skip if element not found
                
                badge.textContent = 'Checking...';
                badge.className = 'badge bg-secondary';
                
                const res = await fetch('/api/market-status');
                if (!res.ok) {
                    console.error(`Market status check failed: ${res.status} ${res.statusText}`);
                    badge.textContent = 'Status Unknown';
                    badge.className = 'badge bg-warning';
                    badge.title = 'Unable to determine if market is open or closed';
                    
                    // Try again in 1 minute
                    setTimeout(checkMarketStatus, 60 * 1000);
                    return;
                }
                
                const data = await res.json();
                
                if (data.isOpen) {
                    badge.textContent = 'Market Open';
                    badge.className = 'badge bg-success';
                    badge.title = 'Stock market is currently open for trading';
                } else {
                    badge.textContent = 'Market Closed';
                    badge.className = 'badge bg-secondary';
                    badge.title = 'Stock market is currently closed - trades will be queued for execution when market opens';
                }
                
                // Check again in 5 minutes
                setTimeout(checkMarketStatus, 5 * 60 * 1000);
            } catch (err) {
                console.error('Error checking market status:', err);
                
                // Update badge to show error state
                const badge = document.getElementById('market-status-badge');
                if (badge) {
                    badge.textContent = 'Status Unknown';
                    badge.className = 'badge bg-warning';
                    badge.title = 'Error checking market status';
                }
                
                // Try again in 1 minute if there was an error
                setTimeout(checkMarketStatus, 60 * 1000);
            }
        })();
    </script>
    <p>
        &copy; Copyright 2025 : CSCI 3308 - Stock Sandbox
    </p>
</footer>

